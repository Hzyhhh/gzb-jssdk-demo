webpackJsonp([20],{535:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),r=t.n(o),a=t(61),l=(t.n(a),t(546)),i=(t.n(l),t(47)),c=t(554),s=t(547),u=t(550),f=t(548),p=t(549),d=t.n(p),b=t(204),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),g=this&&this.__decorate||function(e,n,t,o){var r,a=arguments.length,l=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,n,t,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(a<3?r(l):a>3?r(n,t,l):r(n,t))||l);return a>3&&l&&Object.defineProperty(n,t,l),l},E=(k=["\n  margin-bottom: 1em;\n  margin-right: 1em;\n"],k.raw=["\n  margin-bottom: 1em;\n  margin-right: 1em;\n"],Object(i.b)(d.a)(k)),h=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.setupBeforeunload=function(){n.beforeunloadDisposer||(n.beforeunloadDisposer=Object(b.e)().addListener("beforeunload",function(){return"确认关闭吗?"}))},n.teardownBeforeunload=function(){n.beforeunloadDisposer&&(n.beforeunloadDisposer(),n.beforeunloadDisposer=null)},n.setupBeforegoback=function(){n.beforegobackDisposer||(n.beforegobackDisposer=Object(b.e)().addListener("beforegoback",function(e){e.preventDefault(),window.confirm("确认离开页面吗?")&&history.go(-1)}))},n.teardownBeforegoback=function(){n.beforegobackDisposer&&(n.beforegobackDisposer(),n.beforegobackDisposer=null)},n}return m(n,e),n.prototype.componentWillUnmount=function(){this.teardownBeforegoback(),this.teardownBeforeunload()},n.prototype.render=function(){return r.a.createElement("div",{className:this.props.className},r.a.createElement(l.Helmet,null,r.a.createElement("title",null,"events")),r.a.createElement(s.a,null,"关闭按钮事件",r.a.createElement(u.a,{pc:!0,ios:!0,android:!0})),r.a.createElement(f.a,null,r.a.createElement(E,{label:"订阅关闭按钮事件",onClick:this.setupBeforeunload}),r.a.createElement(E,{label:"取消订阅关闭按钮事件",onClick:this.teardownBeforeunload})),r.a.createElement(f.a,null,r.a.createElement(s.a,null,"示例代码"),r.a.createElement(c.a,null,"\n```typescript\nimport Api from '@gdjiami/gzb-jssdk'\nconst api = Api()\n\n// 可以返回一个字符串，在点击关闭按钮时就会弹出一个confirm 对话框， 打印返回的字符串\n// 用法同浏览器原生的beforeunload事件\napi.addListener('beforeunload', (event) => {\n  return '确认关闭吗？'\n})\n\n// 实现自定义的行为\napi.addListener('beforeunload', (event) => {\n  // 阻止默认行为， 即关闭应用\n  event.preventDefault()\n  // 实现自定义行为\n  myConfirm({\n    title: '确认关闭吗?',\n    onConfirm () {\n      // 退出程序\n      api.exit()\n    }\n  })\n})\n```\n          ")),r.a.createElement(s.a,null,"返回按钮事件",r.a.createElement(u.a,{ios:!0,android:!0})),r.a.createElement(f.a,null,r.a.createElement(E,{label:"订阅订阅返回按钮事件",onClick:this.setupBeforegoback}),r.a.createElement(E,{label:"取消订阅返回按钮事件",onClick:this.teardownBeforegoback})),r.a.createElement(f.a,null,r.a.createElement(s.a,null,"示例代码"),r.a.createElement(c.a,null,"\n```typescript\nimport Api from '@gdjiami/gzb-jssdk'\nconst api = Api()\n// 订阅返回按钮点击事件，我们一般不推荐去捕获返回按钮点击事件。\napi.addListener('beforegoback', (event) => {\n  event.preventDefault()\n  if (window.confirm('确认离开页面吗?')) {\n    api.goback()\n  }\n})\n```\n          ")),r.a.createElement(f.a,null,r.a.createElement(s.a,null,"文档")))},n=g([a.observer],n)}(r.a.Component);n.default=h;var k}});
//# sourceMappingURL=20.cd6bec9e.chunk.js.map